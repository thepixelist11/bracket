(define (transpose matrix)
  (let ([rows (length matrix)]
        [cols (length (car matrix))])
    (build-list cols
                (lambda (i)
                  (build-list rows
                              (lambda (j)
                                (list-ref (list-ref matrix j) i)))))))

(define m (list (list 1 2 3) (list 4 5 6) (list 7 8 9)))
(define t (transpose m))
(println t)
